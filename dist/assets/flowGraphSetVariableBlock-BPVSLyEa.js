import{e as u,R as o,d as v}from"./index-gCZdN4BF.js";class h extends u{constructor(a){if(super(a),!a.variable&&!a.variables)throw new Error("FlowGraphSetVariableBlock: variable/variables is not defined");if(a.variables&&a.variable)throw new Error("FlowGraphSetVariableBlock: variable and variables are both defined");if(a.variables)for(const e of a.variables)this.registerDataInput(e,o);else this.registerDataInput("value",o)}_execute(a,e){if(this.config?.variables)for(const r of this.config.variables)this._saveVariable(a,r);else this._saveVariable(a,this.config?.variable,"value");this.out._activateSignal(a)}_saveVariable(a,e,r){const i=a._getGlobalContextVariable("currentlyRunningAnimationGroups",[]);for(const l of i){const s=a.assetsContext.animationGroups[l];for(const t of s.targetedAnimations)if(t.target===a&&t.target===a&&t.animation.targetProperty===e){s.stop();const n=i.indexOf(l);n>-1&&i.splice(n,1),a._setGlobalContextVariable("currentlyRunningAnimationGroups",i);break}}const b=this.getDataInput(r||e)?.getValue(a);a.setVariable(e,b)}getClassName(){return"FlowGraphSetVariableBlock"}serialize(a){super.serialize(a),a.config.variable=this.config?.variable}}v("FlowGraphSetVariableBlock",h);export{h as FlowGraphSetVariableBlock};
//# sourceMappingURL=flowGraphSetVariableBlock-BPVSLyEa.js.map
